<%= form_with url: holds_batch_destroy_path, method: :delete, id: 'active-holds' do %>
  <table class="table">
    <caption>Holds that are ready for pickup</caption>
    <thead>
    <tr>
      <th scope="col">
        Select <br>
        <%= render SelectAllComponent, target_keyword: 'ready' %>
      </th>
      <th scope="col">Item</th>
      <th scope="col">Pickup at</th>
      <th scope="col">Expires</th>
    </tr>
    </thead>
    <tbody>
    <% @holds_ready.each do |hold| %>
      <tr id="hold<%= hold.key %>">
        <td>
          <%= render SelectAllChildComponent, key: hold.key, target_keyword: 'ready', name: 'hold_list[]' %>
        </td>
        <td>
          <%= render BibItemComponent, bibitem: hold %>
        </td>
        <td><%= hold.pickup_library_human %></td>
        <td class="hold_status"><%= render_expiration_date hold %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <%= submit_tag('Cancel Selected Holds', class: 'btn btn-danger') %>
<% end %>
